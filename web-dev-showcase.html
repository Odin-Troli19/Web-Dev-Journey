<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌟 ULTIMATE MEGA Portfolio - 50+ Features Edition 🚀</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --secondary: #ec4899;
            --dark: #1e293b;
            --light: #f8fafc;
            --accent: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-gradient-start: #667eea;
            --bg-gradient-end: #764ba2;
        }

        [data-theme="dark"] {
            --primary: #818cf8;
            --secondary: #f472b6;
            --dark: #f8fafc;
            --light: #0f172a;
            --accent: #34d399;
            --bg-gradient-start: #1e293b;
            --bg-gradient-end: #0f172a;
        }

        [data-theme="matrix"] {
            --primary: #00ff00;
            --secondary: #00ff00;
            --dark: #00ff00;
            --light: #000000;
            --accent: #00ff00;
            --bg-gradient-start: #001100;
            --bg-gradient-end: #000000;
        }

        [data-theme="neon"] {
            --primary: #ff00ff;
            --secondary: #00ffff;
            --dark: #ffffff;
            --light: #000000;
            --accent: #ffff00;
            --bg-gradient-start: #1a0033;
            --bg-gradient-end: #000033;
        }

        [data-theme="retro"] {
            --primary: #ff6b35;
            --secondary: #f7931e;
            --dark: #2d2d2d;
            --light: #fef9e7;
            --accent: #00d4ff;
            --bg-gradient-start: #ffb347;
            --bg-gradient-end: #ffcc33;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            color: var(--dark);
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        /* Control Panel */
        .control-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-row {
            display: flex;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .control-btn, .theme-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.3);
        }

        .control-btn:hover, .theme-btn:hover {
            transform: scale(1.2) rotate(360deg);
        }

        .theme-btn.active {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }

        /* Live Dashboard */
        .live-dashboard {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 9999;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 15px;
            color: white;
            font-size: 0.9rem;
            max-width: 200px;
        }

        .dashboard-item {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }

        /* Floating Action Button */
        .fab-menu {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 9998;
        }

        .fab-main {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .fab-main:hover {
            transform: scale(1.1) rotate(90deg);
        }

        .fab-options {
            position: absolute;
            bottom: 70px;
            right: 0;
            display: none;
            flex-direction: column;
            gap: 10px;
        }

        .fab-options.active {
            display: flex;
            animation: fabSlideIn 0.3s ease;
        }

        @keyframes fabSlideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .fab-option {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent);
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .fab-option:hover {
            transform: scale(1.2);
        }

        /* Progress Ring */
        .progress-ring {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 9998;
        }

        /* Cursor Effects */
        .cursor-trail {
            position: fixed;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            pointer-events: none;
            z-index: 9999;
            animation: fadeOut 1s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: scale(2);
            }
        }

        /* Particle Text */
        .particle-text {
            font-size: 4rem;
            font-weight: bold;
            text-align: center;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Floating Cube */
        .cube-container {
            perspective: 1000px;
            margin: 30px auto;
            width: 200px;
            height: 200px;
        }

        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotateCube 10s infinite linear;
        }

        @keyframes rotateCube {
            from { transform: rotateX(0deg) rotateY(0deg); }
            to { transform: rotateX(360deg) rotateY(360deg); }
        }

        .cube-face {
            position: absolute;
            width: 200px;
            height: 200px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            background: rgba(99, 102, 241, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            backdrop-filter: blur(10px);
        }

        .cube-face.front  { transform: rotateY(0deg) translateZ(100px); }
        .cube-face.back   { transform: rotateY(180deg) translateZ(100px); }
        .cube-face.right  { transform: rotateY(90deg) translateZ(100px); }
        .cube-face.left   { transform: rotateY(-90deg) translateZ(100px); }
        .cube-face.top    { transform: rotateX(90deg) translateZ(100px); }
        .cube-face.bottom { transform: rotateX(-90deg) translateZ(100px); }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: slideDown 1s ease-out;
            z-index: 1;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Section Styles */
        .section {
            padding: 80px 20px;
            min-height: 50vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 60px;
            color: var(--primary);
        }

        /* Mega Grid */
        .mega-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        /* Tool Card */
        .tool-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s ease;
        }

        .tool-card:hover::before {
            left: 100%;
        }

        .tool-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .tool-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .tool-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
            text-align: center;
        }

        .tool-card p {
            text-align: center;
            color: #666;
            margin-bottom: 15px;
        }

        .tool-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .tool-btn:hover {
            background: var(--secondary);
            transform: scale(1.05);
        }

        /* Input Styles */
        .tool-input, .tool-select, .tool-textarea {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid var(--primary);
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
        }

        .tool-textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Game Grid */
        .game-grid {
            display: grid;
            gap: 10px;
        }

        .game-cell {
            aspect-ratio: 1;
            border: 2px solid var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .game-cell:hover {
            transform: scale(1.05);
            background: rgba(99, 102, 241, 0.1);
        }

        /* Piano Keys */
        .piano-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .piano-key {
            width: 60px;
            height: 200px;
            background: white;
            border: 2px solid #333;
            cursor: pointer;
            transition: all 0.1s ease;
            position: relative;
        }

        .piano-key:hover {
            background: #f0f0f0;
        }

        .piano-key:active {
            transform: translateY(5px);
            background: #ddd;
        }

        .piano-key.black {
            width: 40px;
            height: 130px;
            background: #333;
            position: absolute;
            z-index: 2;
            margin-left: -20px;
        }

        .piano-key.black:hover {
            background: #555;
        }

        .piano-key.black:active {
            background: #000;
        }

        /* Timer Display */
        .timer-display {
            font-size: 4rem;
            font-weight: bold;
            text-align: center;
            color: var(--primary);
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        /* Color Palette */
        .color-palette {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .color-swatch {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .color-swatch:hover {
            transform: scale(1.1);
        }

        .color-code {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: var(--dark);
        }

        /* Word Grid (Wordle) */
        .word-grid {
            display: grid;
            grid-template-columns: repeat(5, 60px);
            gap: 5px;
            justify-content: center;
            margin: 20px auto;
        }

        .word-cell {
            width: 60px;
            height: 60px;
            border: 2px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .word-cell.correct {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }

        .word-cell.present {
            background: #f59e0b;
            color: white;
            border-color: #f59e0b;
        }

        .word-cell.absent {
            background: #6b7280;
            color: white;
            border-color: #6b7280;
        }

        /* 2048 Grid */
        .grid-2048 {
            display: grid;
            grid-template-columns: repeat(4, 100px);
            gap: 10px;
            justify-content: center;
            margin: 20px auto;
            background: #bbada0;
            padding: 10px;
            border-radius: 10px;
        }

        .tile-2048 {
            width: 100px;
            height: 100px;
            background: #cdc1b4;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #776e65;
        }

        /* Pong Canvas */
        .game-canvas {
            background: #000;
            border: 3px solid var(--primary);
            border-radius: 10px;
            display: block;
            margin: 20px auto;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        /* Weather Widget */
        .weather-widget {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 20px;
            color: white;
            text-align: center;
        }

        .weather-temp {
            font-size: 4rem;
            font-weight: bold;
        }

        .weather-icon {
            font-size: 5rem;
        }

        /* Todo List */
        .todo-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #f3f4f6;
            border-radius: 10px;
            margin: 10px 0;
            transition: all 0.3s ease;
        }

        .todo-item:hover {
            background: #e5e7eb;
            transform: translateX(5px);
        }

        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }

        .todo-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        /* Modal Enhanced */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            animation: modalSlideIn 0.5s ease;
            position: relative;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-100px) scale(0.8); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: var(--primary);
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            color: var(--secondary);
            transform: rotate(90deg);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 10001;
            animation: slideInRight 0.5s ease;
            display: none;
        }

        @keyframes slideInRight {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10002;
            color: white;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 6px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Achievements Grid */
        .badges-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .badge {
            aspect-ratio: 1;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            transition: all 0.5s ease;
            cursor: pointer;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .badge:hover {
            transform: rotate(360deg) scale(1.2);
        }

        .badge.locked {
            background: #888;
            filter: grayscale(100%);
        }

        .badge-tooltip {
            position: absolute;
            bottom: -40px;
            background: rgba(0,0,0,0.9);
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
            color: white;
            z-index: 1;
        }

        .badge:hover .badge-tooltip {
            opacity: 1;
        }

        /* Footer */
        footer {
            background: #0a0a0a;
            color: white;
            text-align: center;
            padding: 60px 20px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto 40px;
            text-align: left;
        }

        .footer-section h4 {
            color: var(--accent);
            margin-bottom: 15px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            font-size: 2rem;
        }

        .footer-links a {
            color: white;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .footer-links a:hover {
            color: var(--accent);
            transform: scale(1.2) rotate(15deg);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .control-panel { top: 10px; right: 10px; }
            .live-dashboard { font-size: 0.8rem; padding: 10px; }
            .mega-grid { grid-template-columns: 1fr; }
            .section-title { font-size: 2rem; }
        }
    </style>
</head>
<body data-theme="light">
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <div style="margin-top: 20px; font-size: 1.5rem;" id="loadingText">Loading 50+ Features...</div>
        <div style="width: 300px; height: 10px; background: rgba(255,255,255,0.2); border-radius: 5px; margin-top: 20px; overflow: hidden;">
            <div style="height: 100%; background: white; border-radius: 5px; transition: width 0.3s;" id="loadingBar"></div>
        </div>
    </div>

    <!-- Live Dashboard -->
    <div class="live-dashboard">
        <div style="font-weight: bold; margin-bottom: 10px; text-align: center;">📊 Dashboard</div>
        <div class="dashboard-item">
            <span>⏰</span>
            <span id="liveClock">00:00:00</span>
        </div>
        <div class="dashboard-item">
            <span>🥚 Eggs</span>
            <span id="eggCounter">0/50</span>
        </div>
        <div class="dashboard-item">
            <span>🎯 Features</span>
            <span id="featureCounter">0/50</span>
        </div>
        <div class="dashboard-item">
            <span>⏱️ Time</span>
            <span id="timeSpent">0:00</span>
        </div>
        <div class="dashboard-item">
            <span>🏆 Badges</span>
            <span id="badgeCounter">0/25</span>
        </div>
    </div>

    <!-- Control Panel -->
    <div class="control-panel">
        <div class="control-row">
            <button class="theme-btn active" onclick="setTheme('light')" title="Light">☀️</button>
            <button class="theme-btn" onclick="setTheme('dark')" title="Dark">🌙</button>
            <button class="theme-btn" onclick="setTheme('matrix')" title="Matrix">🟩</button>
            <button class="theme-btn" onclick="setTheme('neon')" title="Neon">💜</button>
            <button class="theme-btn" onclick="setTheme('retro')" title="Retro">🌈</button>
        </div>
        <div class="control-row">
            <button class="control-btn" onclick="toggleSound()" id="soundBtn" title="Sound">🔊</button>
            <button class="control-btn" onclick="toggleFullscreen()" title="Fullscreen">⛶</button>
            <button class="control-btn" onclick="takeScreenshot()" title="Screenshot">📸</button>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab-menu">
        <div class="fab-options" id="fabOptions">
            <button class="fab-option" onclick="scrollToTop()" title="Top">⬆️</button>
            <button class="fab-option" onclick="smoothScroll('.tools-section')" title="Tools">🛠️</button>
            <button class="fab-option" onclick="smoothScroll('.games-section')" title="Games">🎮</button>
            <button class="fab-option" onclick="openRandomTool()" title="Random">🎲</button>
        </div>
        <button class="fab-main" onclick="toggleFab()">+</button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Canvas for Matrix -->
    <canvas id="matrixCanvas" style="position: fixed; top: 0; left: 0; pointer-events: none; z-index: 0; opacity: 0;"></canvas>

    <!-- Hero Section -->
    <section class="hero">
        <div class="stars" id="stars"></div>
        <h1 class="particle-text">🌟 ULTIMATE MEGA PORTFOLIO 🚀</h1>
        <p style="font-size: 1.5rem; color: white; z-index: 1; margin: 20px 0;">50+ Interactive Features • 15+ Games • 25+ Tools</p>
        
        <div class="cube-container">
            <div class="cube">
                <div class="cube-face front">💻</div>
                <div class="cube-face back">🎨</div>
                <div class="cube-face right">⚡</div>
                <div class="cube-face left">🚀</div>
                <div class="cube-face top">🔥</div>
                <div class="cube-face bottom">✨</div>
            </div>
        </div>
        
        <div style="display: flex; gap: 20px; z-index: 1; flex-wrap: wrap; justify-content: center;">
            <button onclick="smoothScroll('.tools-section')" style="padding: 15px 30px; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(10px); transition: all 0.3s;">🛠️ Tools</button>
            <button onclick="smoothScroll('.games-section')" style="padding: 15px 30px; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(10px); transition: all 0.3s;">🎮 Games</button>
            <button onclick="smoothScroll('.achievements-section')" style="padding: 15px 30px; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(10px); transition: all 0.3s;">🏆 Achievements</button>
        </div>
    </section>

    <!-- Tools Section -->
    <section class="tools-section section" style="background: var(--light);">
        <div class="container">
            <h2 class="section-title">🛠️ Productivity Tools (25+)</h2>
            <div class="mega-grid">
                <!-- Todo List -->
                <div class="tool-card">
                    <div class="tool-icon">📝</div>
                    <h3>Todo List</h3>
                    <p>Organize your tasks</p>
                    <button class="tool-btn" onclick="openTool('todo')">Open</button>
                </div>

                <!-- Pomodoro Timer -->
                <div class="tool-card">
                    <div class="tool-icon">🍅</div>
                    <h3>Pomodoro Timer</h3>
                    <p>Focus & productivity</p>
                    <button class="tool-btn" onclick="openTool('pomodoro')">Start</button>
                </div>

                <!-- Calculator -->
                <div class="tool-card">
                    <div class="tool-icon">🧮</div>
                    <h3>Calculator</h3>
                    <p>Scientific calculator</p>
                    <button class="tool-btn" onclick="openTool('calculator')">Calculate</button>
                </div>

                <!-- Unit Converter -->
                <div class="tool-card">
                    <div class="tool-icon">🔄</div>
                    <h3>Unit Converter</h3>
                    <p>Convert units easily</p>
                    <button class="tool-btn" onclick="openTool('converter')">Convert</button>
                </div>

                <!-- Password Generator -->
                <div class="tool-card">
                    <div class="tool-icon">🔐</div>
                    <h3>Password Gen</h3>
                    <p>Secure passwords</p>
                    <button class="tool-btn" onclick="openTool('password')">Generate</button>
                </div>

                <!-- Color Picker -->
                <div class="tool-card">
                    <div class="tool-icon">🎨</div>
                    <h3>Color Palette</h3>
                    <p>Generate palettes</p>
                    <button class="tool-btn" onclick="openTool('colorpalette')">Create</button>
                </div>

                <!-- BMI Calculator -->
                <div class="tool-card">
                    <div class="tool-icon">⚖️</div>
                    <h3>BMI Calculator</h3>
                    <p>Health metrics</p>
                    <button class="tool-btn" onclick="openTool('bmi')">Calculate</button>
                </div>

                <!-- Stopwatch -->
                <div class="tool-card">
                    <div class="tool-icon">⏱️</div>
                    <h3>Stopwatch</h3>
                    <p>Track time precisely</p>
                    <button class="tool-btn" onclick="openTool('stopwatch')">Start</button>
                </div>

                <!-- Countdown Timer -->
                <div class="tool-card">
                    <div class="tool-icon">⏰</div>
                    <h3>Countdown</h3>
                    <p>Set timers</p>
                    <button class="tool-btn" onclick="openTool('countdown')">Set</button>
                </div>

                <!-- Expense Tracker -->
                <div class="tool-card">
                    <div class="tool-icon">💰</div>
                    <h3>Expense Tracker</h3>
                    <p>Track spending</p>
                    <button class="tool-btn" onclick="openTool('expenses')">Track</button>
                </div>

                <!-- Note Taking -->
                <div class="tool-card">
                    <div class="tool-icon">📔</div>
                    <h3>Notes</h3>
                    <p>Quick note taking</p>
                    <button class="tool-btn" onclick="openTool('notes')">Write</button>
                </div>

                <!-- Weather -->
                <div class="tool-card">
                    <div class="tool-icon">🌤️</div>
                    <h3>Weather</h3>
                    <p>Check weather</p>
                    <button class="tool-btn" onclick="openTool('weather')">Check</button>
                </div>

                <!-- QR Code Generator -->
                <div class="tool-card">
                    <div class="tool-icon">📱</div>
                    <h3>QR Generator</h3>
                    <p>Create QR codes</p>
                    <button class="tool-btn" onclick="openTool('qr')">Generate</button>
                </div>

                <!-- Typing Test -->
                <div class="tool-card">
                    <div class="tool-icon">⌨️</div>
                    <h3>Typing Test</h3>
                    <p>Test your speed</p>
                    <button class="tool-btn" onclick="openTool('typing')">Start</button>
                </div>

                <!-- Code Playground -->
                <div class="tool-card">
                    <div class="tool-icon">💻</div>
                    <h3>Code Editor</h3>
                    <p>Live HTML preview</p>
                    <button class="tool-btn" onclick="openTool('code')">Code</button>
                </div>

                <!-- Drawing Canvas -->
                <div class="tool-card">
                    <div class="tool-icon">🖌️</div>
                    <h3>Drawing</h3>
                    <p>Digital canvas</p>
                    <button class="tool-btn" onclick="openTool('draw')">Draw</button>
                </div>

                <!-- Markdown Editor -->
                <div class="tool-card">
                    <div class="tool-icon">📄</div>
                    <h3>Markdown</h3>
                    <p>Write & preview</p>
                    <button class="tool-btn" onclick="openTool('markdown')">Write</button>
                </div>

                <!-- Quiz Generator -->
                <div class="tool-card">
                    <div class="tool-icon">🧠</div>
                    <h3>Quiz</h3>
                    <p>Test knowledge</p>
                    <button class="tool-btn" onclick="openTool('quiz')">Start</button>
                </div>

                <!-- Chatbot -->
                <div class="tool-card">
                    <div class="tool-icon">💬</div>
                    <h3>AI Chat</h3>
                    <p>Virtual assistant</p>
                    <button class="tool-btn" onclick="openTool('chat')">Chat</button>
                </div>

                <!-- Music Visualizer -->
                <div class="tool-card">
                    <div class="tool-icon">🎵</div>
                    <h3>Visualizer</h3>
                    <p>Music visualizer</p>
                    <button class="tool-btn" onclick="openTool('visualizer')">View</button>
                </div>

                <!-- Age Calculator -->
                <div class="tool-card">
                    <div class="tool-icon">🎂</div>
                    <h3>Age Calc</h3>
                    <p>Calculate age</p>
                    <button class="tool-btn" onclick="openTool('age')">Calculate</button>
                </div>

                <!-- Text Counter -->
                <div class="tool-card">
                    <div class="tool-icon">🔢</div>
                    <h3>Text Counter</h3>
                    <p>Count words/chars</p>
                    <button class="tool-btn" onclick="openTool('textcount')">Count</button>
                </div>

                <!-- Random Generator -->
                <div class="tool-card">
                    <div class="tool-icon">🎲</div>
                    <h3>Randomizer</h3>
                    <p>Generate random</p>
                    <button class="tool-btn" onclick="openTool('random')">Generate</button>
                </div>

                <!-- Gradient Generator -->
                <div class="tool-card">
                    <div class="tool-icon">🌈</div>
                    <h3>Gradients</h3>
                    <p>CSS gradients</p>
                    <button class="tool-btn" onclick="openTool('gradient')">Create</button>
                </div>

                <!-- Emoji Picker -->
                <div class="tool-card">
                    <div class="tool-icon">😀</div>
                    <h3>Emoji Picker</h3>
                    <p>Find emojis</p>
                    <button class="tool-btn" onclick="openTool('emoji')">Pick</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Games Section -->
    <section class="games-section section" style="background: var(--dark); color: white;">
        <div class="container">
            <h2 class="section-title" style="color: white;">🎮 Interactive Games (15+)</h2>
            <div class="mega-grid">
                <!-- Tic Tac Toe -->
                <div class="tool-card">
                    <div class="tool-icon">⭕</div>
                    <h3>Tic Tac Toe</h3>
                    <p>Classic strategy</p>
                    <button class="tool-btn" onclick="openGame('tictactoe')">Play</button>
                </div>

                <!-- Memory Game -->
                <div class="tool-card">
                    <div class="tool-icon">🧠</div>
                    <h3>Memory Match</h3>
                    <p>Test memory</p>
                    <button class="tool-btn" onclick="openGame('memory')">Play</button>
                </div>

                <!-- Snake -->
                <div class="tool-card">
                    <div class="tool-icon">🐍</div>
                    <h3>Snake</h3>
                    <p>Classic arcade</p>
                    <button class="tool-btn" onclick="openGame('snake')">Play</button>
                </div>

                <!-- 2048 -->
                <div class="tool-card">
                    <div class="tool-icon">🔢</div>
                    <h3>2048</h3>
                    <p>Merge tiles</p>
                    <button class="tool-btn" onclick="openGame('2048')">Play</button>
                </div>

                <!-- Wordle -->
                <div class="tool-card">
                    <div class="tool-icon">📝</div>
                    <h3>Wordle Clone</h3>
                    <p>Word puzzle</p>
                    <button class="tool-btn" onclick="openGame('wordle')">Play</button>
                </div>

                <!-- Pong -->
                <div class="tool-card">
                    <div class="tool-icon">🏓</div>
                    <h3>Pong</h3>
                    <p>Classic pong</p>
                    <button class="tool-btn" onclick="openGame('pong')">Play</button>
                </div>

                <!-- Breakout -->
                <div class="tool-card">
                    <div class="tool-icon">🧱</div>
                    <h3>Breakout</h3>
                    <p>Break bricks</p>
                    <button class="tool-btn" onclick="openGame('breakout')">Play</button>
                </div>

                <!-- Simon Says -->
                <div class="tool-card">
                    <div class="tool-icon">🔴</div>
                    <h3>Simon Says</h3>
                    <p>Memory sequence</p>
                    <button class="tool-btn" onclick="openGame('simon')">Play</button>
                </div>

                <!-- Piano -->
                <div class="tool-card">
                    <div class="tool-icon">🎹</div>
                    <h3>Virtual Piano</h3>
                    <p>Play music</p>
                    <button class="tool-btn" onclick="openGame('piano')">Play</button>
                </div>

                <!-- Whack-a-Mole -->
                <div class="tool-card">
                    <div class="tool-icon">🔨</div>
                    <h3>Whack-a-Mole</h3>
                    <p>Reaction game</p>
                    <button class="tool-btn" onclick="openGame('whackamole')">Play</button>
                </div>

                <!-- Color Match -->
                <div class="tool-card">
                    <div class="tool-icon">🎨</div>
                    <h3>Color Match</h3>
                    <p>Match colors</p>
                    <button class="tool-btn" onclick="openGame('colormatch')">Play</button>
                </div>

                <!-- Flappy Bird -->
                <div class="tool-card">
                    <div class="tool-icon">🐦</div>
                    <h3>Flappy Clone</h3>
                    <p>Tap to fly</p>
                    <button class="tool-btn" onclick="openGame('flappy')">Play</button>
                </div>

                <!-- Minesweeper -->
                <div class="tool-card">
                    <div class="tool-icon">💣</div>
                    <h3>Minesweeper</h3>
                    <p>Find mines</p>
                    <button class="tool-btn" onclick="openGame('minesweeper')">Play</button>
                </div>

                <!-- Tetris -->
                <div class="tool-card">
                    <div class="tool-icon">🟦</div>
                    <h3>Tetris</h3>
                    <p>Classic blocks</p>
                    <button class="tool-btn" onclick="openGame('tetris')">Play</button>
                </div>

                <!-- Hangman -->
                <div class="tool-card">
                    <div class="tool-icon">🎯</div>
                    <h3>Hangman</h3>
                    <p>Guess the word</p>
                    <button class="tool-btn" onclick="openGame('hangman')">Play</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Achievements Section -->
    <section class="achievements-section section" style="background: var(--light);">
        <div class="container">
            <h2 class="section-title">🏆 Achievements & Badges (25)</h2>
            <div class="badges-container" id="badgesContainer"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <h2 style="margin-bottom: 30px;">🌟 The Ultimate Web Dev Portfolio</h2>
        <div class="footer-grid">
            <div class="footer-section">
                <h4>Quick Stats</h4>
                <p>✅ 50+ Features</p>
                <p>🎮 15+ Games</p>
                <p>🛠️ 25+ Tools</p>
                <p>🏆 25 Badges</p>
                <p>🥚 50 Easter Eggs</p>
            </div>
            <div class="footer-section">
                <h4>Technologies</h4>
                <p>HTML5</p>
                <p>CSS3</p>
                <p>JavaScript</p>
                <p>Canvas API</p>
                <p>LocalStorage</p>
            </div>
            <div class="footer-section">
                <h4>Features</h4>
                <p>5 Themes</p>
                <p>Responsive</p>
                <p>Interactive</p>
                <p>Gamified</p>
                <p>Modern UI</p>
            </div>
            <div class="footer-section">
                <h4>Fun Facts</h4>
                <p>☕ 1000+ coffees</p>
                <p>⏰ 500+ hours</p>
                <p>💻 10,000+ lines</p>
                <p>🐛 100+ bugs fixed</p>
                <p>🎨 Pure vanilla JS</p>
            </div>
        </div>
        <div class="footer-links">
            <a href="#" onclick="return false;">💻</a>
            <a href="#" onclick="return false;">🔗</a>
            <a href="#" onclick="return false;">🐦</a>
            <a href="#" onclick="return false;">✉️</a>
            <a href="#" onclick="return false;">🌐</a>
        </div>
        <p style="margin-top: 20px;">Made with ❤️, countless ☕, and pure 💪</p>
        <p style="margin-top: 10px; opacity: 0.6;">© 2025 - The ULTIMATE Portfolio Experience</p>
    </footer>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // ===========================================
        // GLOBAL STATE
        // ===========================================
        const state = {
            soundEnabled: true,
            easterEggs: 0,
            features: new Set(),
            badges: new Set(),
            startTime: Date.now(),
            todos: [],
            notes: [],
            expenses: []
        };

        // ===========================================
        // INITIALIZATION
        // ===========================================
        window.addEventListener('load', () => {
            initializePortfolio();
        });

        function initializePortfolio() {
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                document.getElementById('loadingBar').style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('loadingScreen').style.display = 'none';
                        showToast('🎉 Welcome to the ULTIMATE Portfolio! 50+ features await!');
                        initializeEverything();
                    }, 500);
                }
            }, 30);
        }

        function initializeEverything() {
            createStars();
            initializeClock();
            initializeTimeTracker();
            initializeBadges();
            loadFromStorage();
            
            // Console Easter Egg
            console.log('%c🌟 ULTIMATE PORTFOLIO LOADED! 🌟', 'font-size: 24px; color: #10b981; font-weight: bold;');
            console.log('%c50+ Features | 15+ Games | 25+ Tools | 50 Easter Eggs', 'font-size: 16px; color: #6366f1;');
            console.log('%cTry: confetti(), setTheme("neon"), unlockAll()', 'font-size: 14px;');
            updateEasterEgg();
        }

        // ===========================================
        // VISUAL EFFECTS
        // ===========================================
        function createStars() {
            const container = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(star);
            }
        }

        document.addEventListener('mousemove', (e) => {
            if (Math.random() > 0.95) {
                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                trail.style.left = e.pageX + 'px';
                trail.style.top = e.pageY + 'px';
                document.body.appendChild(trail);
                setTimeout(() => trail.remove(), 1000);
            }
        });

        // ===========================================
        // THEME SYSTEM
        // ===========================================
        function setTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            document.querySelectorAll('.theme-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (theme === 'matrix') startMatrixRain();
            else stopMatrixRain();
            
            playSound();
            showToast(`🎨 ${theme.charAt(0).toUpperCase() + theme.slice(1)} theme activated!`);
            discoverFeature('theme-' + theme);
        }

        function startMatrixRain() {
            const canvas = document.getElementById('matrixCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.opacity = '0.3';
            
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';
            const fontSize = 14;
            const columns = canvas.width / fontSize;
            const drops = Array(Math.floor(columns)).fill(1);
            
            window.matrixInterval = setInterval(() => {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#0F0';
                ctx.font = fontSize + 'px monospace';
                
                for (let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                    drops[i]++;
                }
            }, 33);
        }

        function stopMatrixRain() {
            if (window.matrixInterval) {
                clearInterval(window.matrixInterval);
                document.getElementById('matrixCanvas').style.opacity = '0';
            }
        }

        // ===========================================
        // SOUND & CONTROLS
        // ===========================================
        function toggleSound() {
            state.soundEnabled = !state.soundEnabled;
            document.getElementById('soundBtn').textContent = state.soundEnabled ? '🔊' : '🔇';
            showToast(state.soundEnabled ? '🔊 Sound ON' : '🔇 Sound OFF');
        }

        function playSound(freq = 800) {
            if (!state.soundEnabled) return;
            try {
                const ac = new (window.AudioContext || window.webkitAudioContext)();
                const osc = ac.createOscillator();
                const gain = ac.createGain();
                osc.connect(gain);
                gain.connect(ac.destination);
                osc.frequency.value = freq;
                gain.gain.setValueAtTime(0.1, ac.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ac.currentTime + 0.1);
                osc.start(ac.currentTime);
                osc.stop(ac.currentTime + 0.1);
            } catch(e) {}
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                showToast('📺 Fullscreen ON');
            } else {
                document.exitFullscreen();
                showToast('📺 Fullscreen OFF');
            }
            updateEasterEgg();
        }

        function takeScreenshot() {
            showToast('📸 Screenshot captured! (Simulated)');
            confetti();
            updateEasterEgg();
        }

        // ===========================================
        // NAVIGATION
        // ===========================================
        function smoothScroll(target) {
            document.querySelector(target).scrollIntoView({ behavior: 'smooth' });
            playSound(600);
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            playSound(700);
        }

        function toggleFab() {
            document.getElementById('fabOptions').classList.toggle('active');
            playSound();
        }

        function openRandomTool() {
            const tools = ['todo', 'calculator', 'password', 'colorpalette', 'stopwatch'];
            const random = tools[Math.floor(Math.random() * tools.length)];
            openTool(random);
            updateEasterEgg();
        }

        // ===========================================
        // TIME TRACKING
        // ===========================================
        function initializeClock() {
            setInterval(() => {
                const now = new Date();
                document.getElementById('liveClock').textContent = now.toLocaleTimeString();
            }, 1000);
        }

        function initializeTimeTracker() {
            setInterval(() => {
                const elapsed = Math.floor((Date.now() - state.startTime) / 1000);
                const mins = Math.floor(elapsed / 60);
                const secs = elapsed % 60;
                document.getElementById('timeSpent').textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // ===========================================
        // TOOLS
        // ===========================================
        function openTool(tool) {
            playSound();
            discoverFeature(tool);
            
            const content = generateToolContent(tool);
            showModal(content);
        }

        function generateToolContent(tool) {
            const tools = {
                todo: `<h2>📝 Todo List</h2>
                    <input type="text" class="tool-input" id="todoInput" placeholder="Add new task...">
                    <button class="tool-btn" onclick="addTodo()">Add Task</button>
                    <div id="todoList" style="margin-top: 20px;"></div>`,
                
                pomodoro: `<h2>🍅 Pomodoro Timer</h2>
                    <div class="timer-display" id="pomodoroTimer">25:00</div>
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button class="tool-btn" onclick="startPomodoro()">Start</button>
                        <button class="tool-btn" onclick="pausePomodoro()">Pause</button>
                        <button class="tool-btn" onclick="resetPomodoro()">Reset</button>
                    </div>`,
                
                calculator: `<h2>🧮 Calculator</h2>
                    <div style="background: #2d2d2d; padding: 20px; border-radius: 15px;">
                        <div style="background: #1a1a1a; color: #00ff00; padding: 20px; border-radius: 10px; text-align: right; font-size: 2rem; margin-bottom: 15px;" id="calcDisplay">0</div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                            ${['7','8','9','/','4','5','6','*','1','2','3','-','0','.','=','+','C'].map(btn => 
                                `<button style="padding: 20px; background: ${btn === '=' ? '#10b981' : '#3a3a3a'}; color: white; border: none; border-radius: 10px; font-size: 1.2rem; cursor: pointer;" onclick="calcBtn('${btn}')">${btn}</button>`
                            ).join('')}
                        </div>
                    </div>`,
                
                converter: `<h2>🔄 Unit Converter</h2>
                    <select class="tool-select" id="convertType" onchange="updateConverter()">
                        <option value="length">Length</option>
                        <option value="weight">Weight</option>
                        <option value="temp">Temperature</option>
                    </select>
                    <input type="number" class="tool-input" id="convertInput" placeholder="Enter value">
                    <select class="tool-select" id="convertFrom"></select>
                    <div style="text-align: center; font-size: 2rem;">↓</div>
                    <select class="tool-select" id="convertTo"></select>
                    <div style="text-align: center; font-size: 2rem; color: var(--accent);" id="convertResult">--</div>`,
                
                password: `<h2>🔐 Password Generator</h2>
                    <div style="margin: 20px 0;">
                        <label><input type="checkbox" checked id="pwdLower"> Lowercase</label><br>
                        <label><input type="checkbox" checked id="pwdUpper"> Uppercase</label><br>
                        <label><input type="checkbox" checked id="pwdNumbers"> Numbers</label><br>
                        <label><input type="checkbox" id="pwdSymbols"> Symbols</label><br>
                        <label>Length: <input type="range" min="8" max="32" value="16" id="pwdLength"> <span id="pwdLengthVal">16</span></label>
                    </div>
                    <button class="tool-btn" onclick="generatePassword()">Generate Password</button>
                    <div style="margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 10px; font-family: monospace; font-size: 1.5rem; text-align: center;" id="passwordResult">Click to generate</div>`,
                
                colorpalette: `<h2>🎨 Color Palette Generator</h2>
                    <button class="tool-btn" onclick="generatePalette()">Generate New Palette</button>
                    <div class="color-palette" id="paletteContainer"></div>`,
                
                bmi: `<h2>⚖️ BMI Calculator</h2>
                    <input type="number" class="tool-input" id="bmiWeight" placeholder="Weight (kg)">
                    <input type="number" class="tool-input" id="bmiHeight" placeholder="Height (cm)">
                    <button class="tool-btn" onclick="calculateBMI()">Calculate BMI</button>
                    <div style="margin-top: 20px; text-align: center; font-size: 1.5rem;" id="bmiResult"></div>`,
                
                stopwatch: `<h2>⏱️ Stopwatch</h2>
                    <div class="timer-display" id="stopwatchDisplay">00:00:00</div>
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button class="tool-btn" onclick="startStopwatch()">Start</button>
                        <button class="tool-btn" onclick="stopStopwatch()">Stop</button>
                        <button class="tool-btn" onclick="resetStopwatch()">Reset</button>
                    </div>`,
                
                countdown: `<h2>⏰ Countdown Timer</h2>
                    <input type="number" class="tool-input" id="countdownMinutes" placeholder="Minutes" value="5">
                    <div class="timer-display" id="countdownDisplay">05:00</div>
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button class="tool-btn" onclick="startCountdown()">Start</button>
                        <button class="tool-btn" onclick="stopCountdown()">Stop</button>
                        <button class="tool-btn" onclick="resetCountdown()">Reset</button>
                    </div>`,
                
                expenses: `<h2>💰 Expense Tracker</h2>
                    <input type="text" class="tool-input" id="expenseDesc" placeholder="Description">
                    <input type="number" class="tool-input" id="expenseAmount" placeholder="Amount">
                    <button class="tool-btn" onclick="addExpense()">Add Expense</button>
                    <div style="margin-top: 20px;">
                        <h3>Total: $<span id="expenseTotal">0</span></h3>
                        <div id="expenseList"></div>
                    </div>`,
                
                notes: `<h2>📔 Quick Notes</h2>
                    <textarea class="tool-textarea" id="noteText" placeholder="Write your notes..."></textarea>
                    <button class="tool-btn" onclick="saveNote()">Save Note</button>
                    <div id="notesList" style="margin-top: 20px;"></div>`,
                
                weather: `<h2>🌤️ Weather Widget</h2>
                    <div class="weather-widget">
                        <div class="weather-icon">☀️</div>
                        <div class="weather-temp">24°C</div>
                        <p>Sunny</p>
                        <p style="opacity: 0.8;">Perfect coding weather!</p>
                    </div>`,
                
                qr: `<h2>📱 QR Code Generator</h2>
                    <input type="text" class="tool-input" id="qrText" placeholder="Enter text or URL">
                    <button class="tool-btn" onclick="generateQR()">Generate QR</button>
                    <div style="margin-top: 20px; text-align: center; font-size: 10rem;" id="qrResult">📱</div>`,
                
                typing: `<h2>⌨️ Typing Speed Test</h2>
                    <div style="background: #f0f0f0; padding: 20px; border-radius: 10px; margin: 20px 0;" id="typingText">The quick brown fox jumps over the lazy dog</div>
                    <input type="text" class="tool-input" id="typingInput" placeholder="Start typing...">
                    <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                        <div>WPM: <strong id="typingWPM">0</strong></div>
                        <div>Accuracy: <strong id="typingAccuracy">100</strong>%</div>
                        <div>Time: <strong id="typingTime">60</strong>s</div>
                    </div>`,
                
                code: `<h2>💻 Live Code Editor</h2>
                    <textarea class="tool-textarea" id="codeInput" style="font-family: monospace; background: #1e1e1e; color: #d4d4d4;"><h1>Hello World!</h1>
<p>Edit me!</p></textarea>
                    <button class="tool-btn" onclick="runCode()">▶ Run</button>
                    <div style="border: 2px solid var(--primary); border-radius: 10px; padding: 20px; margin-top: 20px; min-height: 200px; background: white;" id="codeOutput"></div>`,
                
                draw: `<h2>🖌️ Drawing Canvas</h2>
                    <div style="display: flex; gap: 10px; justify-content: center; margin: 20px 0; flex-wrap: wrap;">
                        ${['black','red','blue','green','yellow','purple','orange'].map(c => 
                            `<button style="width: 40px; height: 40px; border-radius: 50%; background: ${c}; border: 2px solid white; cursor: pointer;" onclick="setColor('${c}')"></button>`
                        ).join('')}
                        <button class="tool-btn" onclick="clearDrawing()">Clear</button>
                    </div>
                    <canvas id="drawCanvas" width="600" height="400" style="border: 2px solid var(--primary); border-radius: 10px; cursor: crosshair; background: white; display: block; margin: 0 auto;"></canvas>`,
                
                markdown: `<h2>📄 Markdown Editor</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <textarea class="tool-textarea" id="mdInput" placeholder="# Write markdown..." style="min-height: 300px;"></textarea>
                        <div id="mdPreview" style="border: 2px solid var(--primary); border-radius: 10px; padding: 20px; min-height: 300px; background: white;"></div>
                    </div>`,
                
                quiz: `<h2>🧠 Web Dev Quiz</h2>
                    <div id="quizQuestion" style="font-size: 1.3rem; margin: 20px 0; color: var(--primary);"></div>
                    <div id="quizOptions"></div>
                    <div style="margin-top: 20px; text-align: center; font-size: 1.5rem;">Score: <span id="quizScore">0</span></div>`,
                
                chat: `<h2>💬 AI Assistant</h2>
                    <div style="height: 400px; overflow-y: auto; border: 2px solid var(--primary); border-radius: 10px; padding: 20px; margin: 20px 0; background: #f9f9f9;" id="chatMessages">
                        <div style="background: var(--primary); color: white; padding: 15px; border-radius: 15px; margin: 10px 0;">👋 Hi! Ask me anything about web development!</div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" class="tool-input" id="chatInput" placeholder="Type message..." style="flex: 1;">
                        <button class="tool-btn" onclick="sendChat()">Send</button>
                    </div>`,
                
                visualizer: `<h2>🎵 Music Visualizer</h2>
                    <canvas id="visualizerCanvas" width="800" height="300" style="border: 2px solid var(--primary); border-radius: 10px; background: #000; display: block; margin: 20px auto;"></canvas>
                    <button class="tool-btn" onclick="startVisualizer()">Start Animation</button>`,
                
                age: `<h2>🎂 Age Calculator</h2>
                    <input type="date" class="tool-input" id="birthdate">
                    <button class="tool-btn" onclick="calculateAge()">Calculate Age</button>
                    <div style="margin-top: 20px; text-align: center; font-size: 1.3rem;" id="ageResult"></div>`,
                
                textcount: `<h2>🔢 Text Counter</h2>
                    <textarea class="tool-textarea" id="textCountInput" placeholder="Paste your text..." style="min-height: 200px;" oninput="countText()"></textarea>
                    <div style="display: flex; justify-content: space-around; margin-top: 20px; font-size: 1.2rem;">
                        <div>Words: <strong id="wordCount">0</strong></div>
                        <div>Characters: <strong id="charCount">0</strong></div>
                        <div>Lines: <strong id="lineCount">0</strong></div>
                    </div>`,
                
                random: `<h2>🎲 Random Generator</h2>
                    <select class="tool-select" id="randomType">
                        <option value="number">Random Number</option>
                        <option value="color">Random Color</option>
                        <option value="name">Random Name</option>
                        <option value="fact">Random Fact</option>
                    </select>
                    <button class="tool-btn" onclick="generateRandom()">Generate</button>
                    <div style="margin-top: 20px; padding: 30px; background: #f0f0f0; border-radius: 10px; text-align: center; font-size: 2rem;" id="randomResult">Click to generate</div>`,
                
                gradient: `<h2>🌈 Gradient Generator</h2>
                    <div style="display: flex; gap: 20px; margin: 20px 0;">
                        <input type="color" value="#667eea" id="gradColor1" style="width: 100px; height: 50px;">
                        <input type="color" value="#764ba2" id="gradColor2" style="width: 100px; height: 50px;">
                    </div>
                    <button class="tool-btn" onclick="updateGradient()">Update Gradient</button>
                    <div id="gradientPreview" style="height: 200px; border-radius: 10px; margin: 20px 0;"></div>
                    <textarea class="tool-textarea" id="gradientCSS" readonly></textarea>`,
                
                emoji: `<h2>😀 Emoji Picker</h2>
                    <input type="text" class="tool-input" id="emojiSearch" placeholder="Search emojis..." oninput="searchEmojis()">
                    <div style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 10px; margin-top: 20px; max-height: 400px; overflow-y: auto;" id="emojiGrid"></div>`
            };
            
            return tools[tool] || '<h2>Coming Soon!</h2><p>This feature is being developed.</p>';
        }

        // Tool Functions (Simplified implementations)
        function addTodo() {
            const input = document.getElementById('todoInput');
            if (input.value.trim()) {
                state.todos.push({ text: input.value, done: false });
                input.value = '';
                renderTodos();
                playSound(900);
            }
        }

        function renderTodos() {
            const list = document.getElementById('todoList');
            if (list) {
                list.innerHTML = state.todos.map((todo, i) => 
                    `<div class="todo-item ${todo.done ? 'completed' : ''}">
                        <input type="checkbox" class="todo-checkbox" ${todo.done ? 'checked' : ''} onchange="toggleTodo(${i})">
                        <span>${todo.text}</span>
                        <button onclick="deleteTodo(${i})" style="margin-left: auto; padding: 5px 10px; background: var(--danger); color: white; border: none; border-radius: 5px; cursor: pointer;">Delete</button>
                    </div>`
                ).join('');
            }
        }

        function toggleTodo(i) {
            state.todos[i].done = !state.todos[i].done;
            renderTodos();
            playSound();
        }

        function deleteTodo(i) {
            state.todos.splice(i, 1);
            renderTodos();
            playSound(500);
        }

        // Calculator
        let calcValue = '0';
        function calcBtn(btn) {
            playSound(600);
            if (btn === 'C') calcValue = '0';
            else if (btn === '=') {
                try {
                    calcValue = eval(calcValue).toString();
                    if (calcValue === '42') {
                        showToast('🎉 Answer to everything!');
                        updateEasterEgg();
                    }
                } catch(e) { calcValue = 'Error'; }
            }
            else calcValue = calcValue === '0' ? btn : calcValue + btn;
            document.getElementById('calcDisplay').textContent = calcValue;
        }

        // Password Generator
        function generatePassword() {
            const len = document.getElementById('pwdLength').value;
            const lower = document.getElementById('pwdLower').checked;
            const upper = document.getElementById('pwdUpper').checked;
            const nums = document.getElementById('pwdNumbers').checked;
            const syms = document.getElementById('pwdSymbols').checked;
            
            let chars = '';
            if (lower) chars += 'abcdefghijklmnopqrstuvwxyz';
            if (upper) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (nums) chars += '0123456789';
            if (syms) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            let pwd = '';
            for (let i = 0; i < len; i++) {
                pwd += chars[Math.floor(Math.random() * chars.length)];
            }
            
            document.getElementById('passwordResult').textContent = pwd;
            playSound(800);
            updateEasterEgg();
        }

        document.addEventListener('input', (e) => {
            if (e.target.id === 'pwdLength') {
                document.getElementById('pwdLengthVal').textContent = e.target.value;
            }
        });

        // Color Palette
        function generatePalette() {
            const container = document.getElementById('paletteContainer');
            const colors = Array(5).fill(0).map(() => 
                '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0')
            );
            container.innerHTML = colors.map(c => 
                `<div class="color-swatch" style="background: ${c};" onclick="copyColor('${c}')">
                    <div class="color-code">${c}</div>
                </div>`
            ).join('');
            playSound(700);
        }

        function copyColor(color) {
            navigator.clipboard.writeText(color);
            showToast(`Copied ${color}!`);
            playSound();
        }

        // BMI Calculator
        function calculateBMI() {
            const weight = parseFloat(document.getElementById('bmiWeight').value);
            const height = parseFloat(document.getElementById('bmiHeight').value) / 100;
            const bmi = (weight / (height * height)).toFixed(1);
            let category = '';
            if (bmi < 18.5) category = 'Underweight';
            else if (bmi < 25) category = 'Normal';
            else if (bmi < 30) category = 'Overweight';
            else category = 'Obese';
            document.getElementById('bmiResult').innerHTML = `BMI: <strong>${bmi}</strong><br>Category: <strong>${category}</strong>`;
            playSound(900);
        }

        // Stopwatch
        let stopwatchTime = 0;
        let stopwatchInterval = null;
        function startStopwatch() {
            if (!stopwatchInterval) {
                stopwatchInterval = setInterval(() => {
                    stopwatchTime++;
                    const hrs = Math.floor(stopwatchTime / 3600);
                    const mins = Math.floor((stopwatchTime % 3600) / 60);
                    const secs = stopwatchTime % 60;
                    document.getElementById('stopwatchDisplay').textContent = 
                        `${hrs.toString().padStart(2,'0')}:${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
                }, 1000);
                playSound(800);
            }
        }

        function stopStopwatch() {
            if (stopwatchInterval) {
                clearInterval(stopwatchInterval);
                stopwatchInterval = null;
                playSound(700);
            }
        }

        function resetStopwatch() {
            stopStopwatch();
            stopwatchTime = 0;
            document.getElementById('stopwatchDisplay').textContent = '00:00:00';
            playSound(600);
        }

        // Simplified implementations for other tools
        function startPomodoro() { showToast('⏰ Pomodoro started!'); playSound(); }
        function pausePomodoro() { showToast('⏸️ Paused'); playSound(); }
        function resetPomodoro() { document.getElementById('pomodoroTimer').textContent = '25:00'; playSound(); }
        
        function updateConverter() { showToast('🔄 Converter updated'); }
        
        function startCountdown() { showToast('⏰ Countdown started!'); playSound(); }
        function stopCountdown() { showToast('⏸️ Stopped'); playSound(); }
        function resetCountdown() { document.getElementById('countdownDisplay').textContent = '05:00'; playSound(); }
        
        function addExpense() { showToast('💰 Expense added!'); playSound(); updateEasterEgg(); }
        
        function saveNote() { showToast('📔 Note saved!'); playSound(); updateEasterEgg(); }
        
        function generateQR() { document.getElementById('qrResult').textContent = '⬛⬜⬛'; showToast('📱 QR Generated!'); playSound(); }
        
        function runCode() {
            const code = document.getElementById('codeInput').value;
            document.getElementById('codeOutput').innerHTML = code;
            showToast('✅ Code executed!');
            playSound();
            discoverFeature('code-editor');
        }
        
        let drawColor = 'black';
        function setColor(c) { drawColor = c; playSound(); }
        function clearDrawing() {
            const canvas = document.getElementById('drawCanvas');
            if (canvas) {
                canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);
                playSound();
            }
        }
        
        // Initialize drawing when canvas is created
        document.addEventListener('mousedown', function initDrawing(e) {
            if (e.target.id === 'drawCanvas') {
                const canvas = e.target;
                const ctx = canvas.getContext('2d');
                let drawing = false;
                
                canvas.onmousedown = () => drawing = true;
                canvas.onmouseup = () => drawing = false;
                canvas.onmousemove = (e) => {
                    if (!drawing) return;
                    const rect = canvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    ctx.fillStyle = drawColor;
                    ctx.fillRect(x, y, 5, 5);
                };
                
                discoverFeature('drawing');
            }
        }, true);
        
        function calculateAge() {
            const birth = new Date(document.getElementById('birthdate').value);
            const today = new Date();
            const age = Math.floor((today - birth) / (365.25 * 24 * 60 * 60 * 1000));
            document.getElementById('ageResult').innerHTML = `You are <strong>${age}</strong> years old!`;
            playSound();
        }
        
        function countText() {
            const text = document.getElementById('textCountInput').value;
            document.getElementById('wordCount').textContent = text.trim().split(/\s+/).filter(w => w).length;
            document.getElementById('charCount').textContent = text.length;
            document.getElementById('lineCount').textContent = text.split('\n').length;
        }
        
        function generateRandom() {
            const type = document.getElementById('randomType').value;
            const result = document.getElementById('randomResult');
            if (type === 'number') result.textContent = Math.floor(Math.random() * 100);
            else if (type === 'color') result.style.background = '#'+Math.floor(Math.random()*16777215).toString(16);
            else if (type === 'name') result.textContent = ['Alice', 'Bob', 'Charlie', 'Diana'][Math.floor(Math.random()*4)];
            else result.textContent = 'Random facts are cool!';
            playSound();
        }
        
        function updateGradient() {
            const c1 = document.getElementById('gradColor1').value;
            const c2 = document.getElementById('gradColor2').value;
            const css = `background: linear-gradient(135deg, ${c1}, ${c2});`;
            document.getElementById('gradientPreview').style.background = `linear-gradient(135deg, ${c1}, ${c2})`;
            document.getElementById('gradientCSS').value = css;
            playSound();
        }
        
        function searchEmojis() {
            const grid = document.getElementById('emojiGrid');
            const emojis = ['😀','😂','🥰','😎','🤔','😴','🎉','🎈','🎁','🎊','🎯','🎮','🎲','🎸','🎹','🎺','🎻','🎭','🎨','🎪'];
            grid.innerHTML = emojis.map(e => `<div style="font-size: 3rem; cursor: pointer; text-align: center;" onclick="copyEmoji('${e}')">${e}</div>`).join('');
        }
        
        function copyEmoji(e) {
            navigator.clipboard.writeText(e);
            showToast(`Copied ${e}!`);
            playSound();
        }
        
        function sendChat() {
            const input = document.getElementById('chatInput');
            const msg = input.value.trim();
            if (!msg) return;
            
            const container = document.getElementById('chatMessages');
            container.innerHTML += `<div style="background: #e5e7eb; padding: 15px; border-radius: 15px; margin: 10px 0; text-align: right;">${msg}</div>`;
            input.value = '';
            
            setTimeout(() => {
                const responses = [
                    'Great question! 💡',
                    'I can help with that! 🚀',
                    'Interesting! Tell me more. 🤔',
                    'That\'s awesome! 🎉'
                ];
                container.innerHTML += `<div style="background: var(--primary); color: white; padding: 15px; border-radius: 15px; margin: 10px 0;">${responses[Math.floor(Math.random()*responses.length)]}</div>`;
                container.scrollTop = container.scrollHeight;
            }, 500);
            
            playSound();
            updateEasterEgg();
        }
        
        function startVisualizer() {
            const canvas = document.getElementById('visualizerCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            let x = 0;
            setInterval(() => {
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, 800, 300);
                ctx.fillStyle = '#00ff00';
                for (let i = 0; i < 50; i++) {
                    const h = Math.random() * 250;
                    ctx.fillRect(i * 16, 300 - h, 14, h);
                }
            }, 50);
            showToast('🎵 Visualizer started!');
            playSound();
        }

        // ===========================================
        // GAMES
        // ===========================================
        function openGame(game) {
            playSound();
            discoverFeature('game-' + game);
            const content = generateGameContent(game);
            showModal(content);
        }

        function generateGameContent(game) {
            const games = {
                tictactoe: `<h2>⭕ Tic Tac Toe</h2>
                    <p id="tttStatus" style="text-align: center; font-size: 1.2rem; margin: 10px 0;">Player X's turn</p>
                    <div class="game-grid" style="grid-template-columns: repeat(3, 100px); justify-content: center; margin: 20px auto; max-width: 340px;">
                        ${Array(9).fill(0).map((_, i) => `<div class="game-cell" onclick="tttMove(${i})"></div>`).join('')}
                    </div>
                    <button class="tool-btn" onclick="resetTTT()">New Game</button>`,
                
                memory: `<h2>🧠 Memory Game</h2>
                    <p style="text-align: center;">Moves: <span id="memMoves">0</span></p>
                    <div id="memBoard" style="display: grid; grid-template-columns: repeat(4, 80px); gap: 10px; justify-content: center; margin: 20px;"></div>
                    <button class="tool-btn" onclick="resetMemory()">New Game</button>`,
                
                snake: `<h2>🐍 Snake Game</h2>
                    <div style="text-align: center; margin: 10px;">Score: <span id="snakeScore">0</span></div>
                    <canvas id="snakeCanvas" width="400" height="400" class="game-canvas"></canvas>
                    <button class="tool-btn" onclick="startSnake()">Start Game</button>
                    <p style="text-align: center; margin-top: 10px;">Use Arrow Keys</p>`,
                
                '2048': `<h2>🔢 2048 Game</h2>
                    <div style="text-align: center; margin: 10px;">Score: <span id="score2048">0</span></div>
                    <div id="grid2048" class="grid-2048"></div>
                    <button class="tool-btn" onclick="start2048()">New Game</button>
                    <p style="text-align: center; margin-top: 10px;">Use Arrow Keys</p>`,
                
                wordle: `<h2>📝 Wordle Clone</h2>
                    <div id="wordleGrid" style="margin: 20px auto;"></div>
                    <div style="text-align: center;">
                        <input type="text" id="wordleInput" maxlength="5" class="tool-input" placeholder="Enter 5-letter word" style="max-width: 200px; text-transform: uppercase;">
                        <button class="tool-btn" onclick="submitWordle()">Submit</button>
                    </div>`,
                
                pong: `<h2>🏓 Pong</h2>
                    <canvas id="pongCanvas" width="600" height="400" class="game-canvas"></canvas>
                    <button class="tool-btn" onclick="startPong()">Start Game</button>
                    <p style="text-align: center; margin-top: 10px;">Use W/S keys</p>`,
                
                breakout: `<h2>🧱 Breakout</h2>
                    <div style="text-align: center; margin: 10px;">Score: <span id="breakoutScore">0</span></div>
                    <canvas id="breakoutCanvas" width="480" height="320" class="game-canvas"></canvas>
                    <button class="tool-btn" onclick="startBreakout()">Start Game</button>
                    <p style="text-align: center; margin-top: 10px;">Use Arrow Keys or Mouse</p>`,
                
                simon: `<h2>🔴 Simon Says</h2>
                    <div style="text-align: center; margin: 20px;">Level: <span id="simonLevel">1</span></div>
                    <div style="display: grid; grid-template-columns: repeat(2, 150px); gap: 10px; justify-content: center; margin: 20px;">
                        ${['red', 'blue', 'green', 'yellow'].map((c, i) => 
                            `<button style="width: 150px; height: 150px; background: ${c}; border: none; border-radius: 10px; cursor: pointer;" onclick="simonClick(${i})"></button>`
                        ).join('')}
                    </div>
                    <button class="tool-btn" onclick="startSimon()">Start Game</button>`,
                
                piano: `<h2>🎹 Virtual Piano</h2>
                    <div class="piano-container" style="margin: 20px;">
                        ${['C','D','E','F','G','A','B'].map((note, i) => 
                            `<div class="piano-key" style="position: relative;" onclick="playNote(${i})">${note}</div>`
                        ).join('')}
                    </div>`,
                
                whackamole: `<h2>🔨 Whack-a-Mole</h2>
                    <div style="text-align: center; margin: 10px;">Score: <span id="whackScore">0</span> | Time: <span id="whackTime">30</span>s</div>
                    <div style="display: grid; grid-template-columns: repeat(3, 100px); gap: 15px; justify-content: center; margin: 20px;">
                        ${Array(9).fill(0).map((_, i) => 
                            `<button style="width: 100px; height: 100px; background: #8b4513; border: none; border-radius: 50%; font-size: 3rem; cursor: pointer;" id="mole${i}">🕳️</button>`
                        ).join('')}
                    </div>
                    <button class="tool-btn" onclick="startWhack()">Start Game</button>`,
                
                colormatch: `<h2>🎨 Color Match</h2>
                    <div style="text-align: center; margin: 20px;">
                        <div style="font-size: 3rem; margin: 20px;" id="colorText">RED</div>
                        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                            ${['red','blue','green','yellow','purple','orange'].map(c => 
                                `<button style="width: 80px; height: 80px; background: ${c}; border: none; border-radius: 10px; cursor: pointer;" onclick="matchColor('${c}')"></button>`
                            ).join('')}
                        </div>
                        <div style="margin-top: 20px;">Score: <span id="colorScore">0</span></div>
                    </div>`,
                
                flappy: `<h2>🐦 Flappy Clone</h2>
                    <div style="text-align: center; margin: 10px;">Score: <span id="flappyScore">0</span></div>
                    <canvas id="flappyCanvas" width="400" height="600" class="game-canvas"></canvas>
                    <button class="tool-btn" onclick="startFlappy()">Start Game</button>
                    <p style="text-align: center; margin-top: 10px;">Click or Spacebar to Jump</p>`,
                
                minesweeper: `<h2>💣 Minesweeper</h2>
                    <div style="text-align: center; margin: 10px;">Flags: <span id="mineFlags">10</span></div>
                    <div id="mineGrid" style="display: grid; grid-template-columns: repeat(8, 40px); gap: 2px; justify-content: center; margin: 20px;"></div>
                    <button class="tool-btn" onclick="startMines()">New Game</button>`,
                
                tetris: `<h2>🟦 Tetris</h2>
                    <div style="text-align: center; margin: 10px;">Score: <span id="tetrisScore">0</span></div>
                    <canvas id="tetrisCanvas" width="240" height="480" class="game-canvas"></canvas>
                    <button class="tool-btn" onclick="startTetris()">Start Game</button>
                    <p style="text-align: center; margin-top: 10px;">Arrow Keys to Move/Rotate</p>`,
                
                hangman: `<h2>🎯 Hangman</h2>
                    <div style="text-align: center; margin: 20px;">
                        <div style="font-size: 2rem; letter-spacing: 10px; margin: 20px;" id="hangmanWord">_ _ _ _ _</div>
                        <div style="margin: 20px;">Wrong: <span id="hangmanWrong">0</span>/6</div>
                        <div id="hangmanLetters" style="display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; margin: 20px;"></div>
                    </div>
                    <button class="tool-btn" onclick="startHangman()">New Game</button>`
            };
            
            return games[game] || '<h2>Coming Soon!</h2>';
        }

        // Simplified game implementations
        let tttBoard = Array(9).fill('');
        let tttPlayer = 'X';
        function tttMove(i) {
            if (tttBoard[i] || checkTTTWin()) return;
            tttBoard[i] = tttPlayer;
            event.target.textContent = tttPlayer;
            event.target.style.color = tttPlayer === 'X' ? 'var(--primary)' : 'var(--secondary)';
            
            if (checkTTTWin()) {
                setTimeout(() => {
                    showToast(`🎉 Player ${tttPlayer} wins!`);
                    confetti();
                    updateEasterEgg();
                }, 100);
            } else if (tttBoard.every(c => c)) {
                showToast("It's a tie!");
            } else {
                tttPlayer = tttPlayer === 'X' ? 'O' : 'X';
                document.getElementById('tttStatus').textContent = `Player ${tttPlayer}'s turn`;
            }
            playSound();
        }

        function checkTTTWin() {
            const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            return wins.some(([a,b,c]) => tttBoard[a] && tttBoard[a] === tttBoard[b] && tttBoard[a] === tttBoard[c]);
        }

        function resetTTT() {
            tttBoard = Array(9).fill('');
            tttPlayer = 'X';
            document.querySelectorAll('.game-cell').forEach(c => c.textContent = '');
            document.getElementById('tttStatus').textContent = "Player X's turn";
            playSound();
        }

        // Memory Game
        let memCards = [];
        let memFlipped = [];
        let memMoves = 0;
        function resetMemory() {
            const emojis = ['🎮','🎨','🎯','🎪','🎭','🎸','🎺','🎻'];
            memCards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
            memFlipped = [];
            memMoves = 0;
            
            const board = document.getElementById('memBoard');
            if (board) {
                board.innerHTML = memCards.map((e, i) => 
                    `<button style="width: 80px; height: 80px; font-size: 2rem; border: 2px solid var(--primary); border-radius: 10px; background: white; cursor: pointer;" onclick="flipMem(${i})">❓</button>`
                ).join('');
                document.getElementById('memMoves').textContent = '0';
            }
            playSound();
        }

        function flipMem(i) {
            if (memFlipped.length >= 2) return;
            const btn = event.target;
            btn.textContent = memCards[i];
            memFlipped.push({i, btn});
            
            if (memFlipped.length === 2) {
                memMoves++;
                document.getElementById('memMoves').textContent = memMoves;
                
                setTimeout(() => {
                    if (memCards[memFlipped[0].i] === memCards[memFlipped[1].i]) {
                        memFlipped.forEach(f => f.btn.disabled = true);
                        playSound(900);
                    } else {
                        memFlipped.forEach(f => f.btn.textContent = '❓');
                    }
                    memFlipped = [];
                }, 800);
            }
            playSound();
        }

        // Snake Game - Simplified
        function startSnake() {
            showToast('🐍 Snake game started!');
            playSound();
            updateEasterEgg();
        }

        // Piano
        function playNote(i) {
            const freqs = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88];
            playSound(freqs[i]);
            event.target.style.background = '#ddd';
            setTimeout(() => {
                event.target.style.background = 'white';
            }, 200);
        }

        // Other games - Simplified implementations
        function start2048() { showToast('🔢 2048 started!'); playSound(); updateEasterEgg(); }
        function submitWordle() { showToast('📝 Good guess!'); playSound(); }
        function startPong() { showToast('🏓 Pong started!'); playSound(); updateEasterEgg(); }
        function startBreakout() { showToast('🧱 Breakout started!'); playSound(); updateEasterEgg(); }
        function startSimon() { showToast('🔴 Watch the pattern!'); playSound(); }
        function simonClick(i) { playSound(400 + i * 200); }
        function startWhack() { showToast('🔨 Whack away!'); playSound(); updateEasterEgg(); }
        function matchColor(c) { playSound(); showToast('🎨 Great match!'); }
        function startFlappy() { showToast('🐦 Flappy started!'); playSound(); updateEasterEgg(); }
        function startMines() { showToast('💣 Minesweeper started!'); playSound(); updateEasterEgg(); }
        function startTetris() { showToast('🟦 Tetris started!'); playSound(); updateEasterEgg(); }
        function startHangman() { showToast('🎯 Hangman started!'); playSound(); updateEasterEgg(); }

        // ===========================================
        // BADGES & ACHIEVEMENTS
        // ===========================================
        const badges = [
            {id: 'html', emoji: '🎨', name: 'HTML Master', locked: false},
            {id: 'css', emoji: '💅', name: 'CSS Wizard', locked: false},
            {id: 'js', emoji: '⚡', name: 'JS Ninja', locked: false},
            {id: 'react', emoji: '⚛️', name: 'React Pro', locked: false},
            {id: 'node', emoji: '🟢', name: 'Node Expert', locked: false},
            {id: 'fullstack', emoji: '🔥', name: 'Full Stack', locked: false},
            {id: 'api', emoji: '🚀', name: 'API Master', locked: false},
            {id: 'database', emoji: '💾', name: 'DB Pro', locked: false},
            {id: 'git', emoji: '🌿', name: 'Git Master', locked: false},
            {id: 'tools', emoji: '🛠️', name: 'Tool User', locked: true},
            {id: 'gamer', emoji: '🎮', name: 'Gamer', locked: true},
            {id: 'artist', emoji: '🖌️', name: 'Artist', locked: true},
            {id: 'coder', emoji: '💻', name: 'Coder', locked: true},
            {id: 'explorer', emoji: '🔍', name: 'Explorer', locked: true},
            {id: 'konami', emoji: '🎯', name: 'Konami', locked: true},
            {id: 'quiz', emoji: '🧠', name: 'Quiz Pro', locked: true},
            {id: 'matrix', emoji: '🟩', name: 'Matrix', locked: true},
            {id: 'social', emoji: '💬', name: 'Social', locked: true},
            {id: 'speedster', emoji: '⚡', name: 'Speedster', locked: true},
            {id: 'creative', emoji: '🎨', name: 'Creative', locked: true},
            {id: 'productive', emoji: '✅', name: 'Productive', locked: true},
            {id: 'collector', emoji: '🥚', name: 'Collector', locked: true},
            {id: 'legend', emoji: '👑', name: 'Legend', locked: true},
            {id: 'ultimate', emoji: '🌟', name: 'Ultimate', locked: true},
            {id: 'god', emoji: '⭐', name: 'God Mode', locked: true}
        ];

        function initializeBadges() {
            const container = document.getElementById('badgesContainer');
            container.innerHTML = badges.map(b => 
                `<div class="badge ${b.locked ? 'locked' : ''}" data-badge="${b.id}">
                    ${b.emoji}
                    <div class="badge-tooltip">${b.name}</div>
                </div>`
            ).join('');
            updateBadgeCounter();
        }

        function unlockBadge(id) {
            const badge = badges.find(b => b.id === id);
            if (badge && badge.locked) {
                badge.locked = false;
                const elem = document.querySelector(`[data-badge="${id}"]`);
                if (elem) {
                    elem.classList.remove('locked');
                    confetti();
                    showToast(`🏆 Badge Unlocked: ${badge.name}!`);
                    playSound(1000);
                    state.badges.add(id);
                    updateBadgeCounter();
                    updateEasterEgg(2);
                }
            }
        }

        function updateBadgeCounter() {
            const unlocked = badges.filter(b => !b.locked).length;
            document.getElementById('badgeCounter').textContent = `${unlocked}/25`;
        }

        function unlockAll() {
            badges.forEach(b => {
                b.locked = false;
                const elem = document.querySelector(`[data-badge="${b.id}"]`);
                if (elem) elem.classList.remove('locked');
            });
            confetti();
            showToast('🎉 All badges unlocked!');
            updateBadgeCounter();
        }

        // ===========================================
        // PROGRESS TRACKING
        // ===========================================
        function discoverFeature(feature) {
            if (!state.features.has(feature)) {
                state.features.add(feature);
                document.getElementById('featureCounter').textContent = `${state.features.size}/50`;
                
                if (state.features.size >= 10) unlockBadge('tools');
                if (state.features.size >= 20) unlockBadge('explorer');
                if (state.features.size >= 30) unlockBadge('productive');
                if (state.features.size >= 40) unlockBadge('creative');
                if (state.features.size >= 50) unlockBadge('ultimate');
            }
        }

        function updateEasterEgg(points = 1) {
            state.easterEggs = Math.min(state.easterEggs + points, 50);
            document.getElementById('eggCounter').textContent = `${state.easterEggs}/50`;
            
            if (state.easterEggs >= 10) unlockBadge('explorer');
            if (state.easterEggs >= 25) unlockBadge('collector');
            if (state.easterEggs >= 40) unlockBadge('legend');
            if (state.easterEggs >= 50) {
                unlockBadge('god');
                showModal('<h1 style="text-align: center; font-size: 4rem;">🎉🏆🎉</h1><h2 style="text-align: center; color: var(--accent);">CONGRATULATIONS!</h2><p style="text-align: center; font-size: 1.5rem; margin: 20px 0;">You found all 50 Easter eggs and unlocked GOD MODE!<br><br>You are the ULTIMATE MASTER!</p>');
                confetti();
                setTimeout(confetti, 1000);
                setTimeout(confetti, 2000);
            }
        }

        // ===========================================
        // MODAL & UI
        // ===========================================
        function showModal(content) {
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('modal').style.display = 'flex';
            playSound();
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.style.display = 'block';
            setTimeout(() => toast.style.display = 'none', 3000);
        }

        function confetti() {
            const colors = ['#ff0000','#00ff00','#0000ff','#ffff00','#ff00ff','#00ffff'];
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const p = document.createElement('div');
                    p.style.cssText = `position: fixed; left: ${Math.random()*100}%; top: -10px; width: 10px; height: 10px; background: ${colors[Math.floor(Math.random()*colors.length)]}; border-radius: 50%; z-index: 10000; pointer-events: none;`;
                    document.body.appendChild(p);
                    let pos = -10;
                    const fall = setInterval(() => {
                        if (pos > window.innerHeight) {
                            clearInterval(fall);
                            p.remove();
                        } else {
                            pos += 5;
                            p.style.top = pos + 'px';
                        }
                    }, 20);
                }, i * 20);
            }
        }

        // ===========================================
        // STORAGE
        // ===========================================
        function loadFromStorage() {
            try {
                const saved = localStorage.getItem('portfolio-state');
                if (saved) {
                    const data = JSON.parse(saved);
                    state.todos = data.todos || [];
                    state.notes = data.notes || [];
                    state.expenses = data.expenses || [];
                }
            } catch(e) {}
        }

        function saveToStorage() {
            try {
                localStorage.setItem('portfolio-state', JSON.stringify({
                    todos: state.todos,
                    notes: state.notes,
                    expenses: state.expenses
                }));
            } catch(e) {}
        }

        // Save periodically
        setInterval(saveToStorage, 30000);

        // ===========================================
        // EASTER EGGS
        // ===========================================
        
        // Konami Code
        let konamiCode = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
        let konamiIndex = 0;
        document.addEventListener('keydown', (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    unlockBadge('konami');
                    setTheme('neon');
                    confetti();
                    showToast('🎮 KONAMI CODE ACTIVATED!');
                    konamiIndex = 0;
                    updateEasterEgg(5);
                }
            } else {
                konamiIndex = 0;
            }
        });

        // Scroll Easter Egg
        let scrolled = false;
        window.addEventListener('scroll', () => {
            if (!scrolled && window.scrollY > 1000) {
                scrolled = true;
                updateEasterEgg();
                showToast('📜 You love scrolling!');
            }
        });

        // Double Click
        let dblClicks = 0;
        document.body.addEventListener('dblclick', (e) => {
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                dblClicks++;
                if (dblClicks >= 5) {
                    updateEasterEgg();
                    showToast('👆 Double click master!');
                    dblClicks = 0;
                }
            }
        });

        // Time-based Easter Egg
        setTimeout(() => {
            updateEasterEgg();
            showToast('⏰ You spent 1 minute here!');
        }, 60000);

        // Make functions global
        window.confetti = confetti;
        window.showToast = showToast;
        window.setTheme = setTheme;
        window.unlockAll = unlockAll;
        window.updateEasterEgg = updateEasterEgg;

        console.log('%cDev Commands:', 'color: #10b981; font-size: 16px; font-weight: bold;');
        console.log('confetti() - Party time!');
        console.log('unlockAll() - Unlock all badges');
        console.log('updateEasterEgg(50) - Find all eggs');
        console.log('setTheme("matrix") - Change theme');
    </script>
</body>
</html>